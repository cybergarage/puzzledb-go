= Coordinator Key-value Store

The coordinator sevice has a key-value store to commuicate with other nodes in PuzzleDB. The key-value store is a collection of key-value records, where each record is a key-value pair, consisting of a header as the key and a value as the value. The key-value store supports the following categories of key-value records:

image:img/coordinator_compo.png[]

The coordinator service provides a distributed key-value store for PuzzleDB nodes. The key-value store is a collection of key-value records, where each record is a key-value pair, consisting of a header as the key and a value as the value. 

== Key Categories

The key-value store is a collection of key-value records, where each record is a key-value pair, consisting of a header as the key. The key-value store supports the following categories of key-value records:

[format="csv", options="header, autowidth"]
|====
include::csv/coodinator-store-category.csv[]
|====

== Key Header Specification

The key header is a 2-byte header that is prepended to every key in the key-value store. The key header is defined as follows:

[format="csv", options="header, autowidth"]
|====
include::csv/coodinator-store-header.csv[]
|====

The key header begins with a 1-byte identifier for the key type, enabling key type-based searching. Duplication is tolerated because a value type is defined for each key type.


== Message Objects

The coordinator service defines standard message objects for communication between PuzzleDB nodes. The standard message object is defined as follows:

[format="csv", options="header, autowidth"]
|====
include::csv/coodinator-message-object.csv[]
|====

The coordinator service defines standard message category and type for communication between PuzzleDB nodes. The standard message category and type are defined as follows:

[format="csv", options="header, autowidth"]
|====
include::csv/coodinator-message-objects.csv[]
|====

== State Objects

The coordinator service defines standard state objects to share state among the PuzzleDB nodes. The standard state object is defined as follows:

[format="csv", options="header, autowidth"]
|====
include::csv/coodinator-state-objects.csv[]
|====
